{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-ap.js"],"sourcesContent":["// Додавання бібліотеки SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Створення галереї зображень\nexport const list = document.querySelector('.gallery');\n\nexport function markupGallery(images) {\n  const imageItem = images\n    .map(\n      i => ` <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${i.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${i.webformatURL}\"\n              alt=\"${i.tags}\"\n              width=\"360\"\n              height=\"152\"\n          /></a>\n          <div class=\"parameters-block\">\n            <div class=\"parameter\">\n              <h2 class=\"title\">Likes</h2>\n              <p class=\"amount\">${i.likes}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Views</h2>\n              <p class=\"amount\">${i.views}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Comments</h2>\n              <p class=\"amount\">${i.comments}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Downloads</h2>\n              <p class=\"amount\">${i.downloads}</p>\n            </div>\n          </div>\n        </li>`\n    )\n    .join('');\n\n  list.insertAdjacentHTML('beforeend', imageItem);\n\n  //Ініціалізація бібліотеки SimpleLightbox та налаштування опций модального вікна\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n","// Додавання бібліотеки iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { markupGallery } from './render-functions.js';\nimport { list } from './render-functions.js';\n\nconst fetcImageForm = document.querySelector('form');\nconst inputSearchImage = document.querySelector('#select-image');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nfetcImageForm.addEventListener('submit', fetchImage);\n\nfunction fetchImage(event) {\n  event.preventDefault();\n  list.innerHTML = '';\n\n  loader.style.display = 'block';\n\n  const API_KEY = '42379891-9b2b3e5f2dd038df1d72b79a3';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const encodedSearch = inputSearchImage.value;\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: encodedSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(params => {\n      if (!params.hits.length) {\n        // Ініціаналізація бібліотеки iziToast\n        iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          transitionIn: 'bounceInDown',\n          theme: 'dark',\n          messageColor: '#ffffff',\n          messageSize: 16,\n          messageLineHeight: 24,\n          color: '#ef4040',\n          progressBar: false,\n          position: 'topRight',\n          maxWidth: 432,\n        });\n      }\n      markupGallery(params.hits);\n      loader.style.display = 'none';\n\n      fetcImageForm.reset();\n    })\n    .catch(error => console.log(error))\n\n    .finally(() => (loader.style.display = 'none'));\n}\n"],"names":["list","markupGallery","images","imageItem","i","SimpleLightbox","fetcImageForm","inputSearchImage","loader","fetchImage","event","API_KEY","BASE_URL","encodedSearch","searchParams","response","params","iziToast","error"],"mappings":"6vBAKO,MAAMA,EAAO,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAYD,EACf,IACCE,GAAK;AAAA,0CAC+BA,EAAE,aAAa;AAAA;AAAA;AAAA,qBAGpCA,EAAE,YAAY;AAAA,qBACdA,EAAE,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAOOA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIPA,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA,kCAIPA,EAAE,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIVA,EAAE,SAAS;AAAA;AAAA;AAAA,cAIxC,EACA,KAAK,EAAE,EAEVJ,EAAK,mBAAmB,YAAaG,CAAS,EAG7B,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CC5CA,MAAMC,EAAgB,SAAS,cAAc,MAAM,EAC7CC,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBF,EAAc,iBAAiB,SAAUG,CAAU,EAEnD,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpBV,EAAK,UAAY,GAEjBQ,EAAO,MAAM,QAAU,QAEvB,MAAMG,EAAU,qCACVC,EAAW,2BACXC,EAAgBN,EAAiB,MAEjCO,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,GAAGD,CAAQ,IAAIE,CAAY,EAAE,EAChC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAU,CACTA,EAAO,KAAK,QAEfC,EAAS,MAAM,CACb,QAAS,2EACT,aAAc,eACd,MAAO,OACP,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,MAAO,UACP,YAAa,GACb,SAAU,WACV,SAAU,GACpB,CAAS,EAEHhB,EAAce,EAAO,IAAI,EACzBR,EAAO,MAAM,QAAU,OAEvBF,EAAc,MAAK,CACzB,CAAK,EACA,MAAMY,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEjC,QAAQ,IAAOV,EAAO,MAAM,QAAU,MAAO,CAClD"}